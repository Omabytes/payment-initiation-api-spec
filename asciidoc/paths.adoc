
[[_paths]]
== Paths

<<<

[[_setupsingleimmediatepayment]]
=== Setup a single immediate payment
....
POST /payments
....


==== Description
Setup a single immediate payment


==== Body parameter
Setup a single immediate payment

[%hardbreaks]
__Name__ : body
__Flags__ : required


[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|**CreditorAccount** +
__required__|Unambiguous identification of the account of the creditor to which a credit entry will be posted as a result of the payment transaction.|<<_setupsingleimmediatepayment_creditoraccount,CreditorAccount>>
|**CreditorAgent** +
__required__|Financial institution servicing an account for the creditor.|<<_setupsingleimmediatepayment_creditoragent,CreditorAgent>>
|**DebtorAccount** +
__optional__|Unambiguous identification of the account of the debtor to which a debit entry will be made as a result of the transaction.|<<_setupsingleimmediatepayment_debtoraccount,DebtorAccount>>
|**DebtorAgent** +
__optional__|Financial institution servicing an account for the debtor.|<<_setupsingleimmediatepayment_debtoragent,DebtorAgent>>
|**EndToEndIdentification** +
__required__|Unique identification assigned by the initiating party to unambiguously identify the transaction. This identification is passed on, unchanged, throughout the entire end-to-end chain. Usage: The end-to-end identification can be used for reconciliation or to link tasks relating to the transaction. It can be included in several messages related to the transaction. +
**Length** : `1 - 35`|string
|**InstructedAmount** +
__required__|Amount of money to be moved between the debtor and creditor, before deduction of charges, expressed in the currency as ordered by the initiating party. Usage: This amount has to be transported unchanged through the transaction chain.|<<_setupsingleimmediatepayment_instructedamount,InstructedAmount>>
|**InstructionIdentification** +
__required__|Unique identification as assigned by an instructing party for an instructed party to unambiguously identify the instruction. Usage: the instruction identification is a point to point reference that can be used between the instructing party and the instructed party to refer to the individual instruction. It can be included in several messages related to the instruction. +
**Length** : `1 - 35`|string
|**RemittanceInformation** +
__optional__|Information supplied to enable the matching/reconciliation of an entry with the items that the payment is intended to settle, such as commercial invoices in an accounts' receivable system, in an unstructured form. +
**Length** : `1 - 140`|string
|===

[[_setupsingleimmediatepayment_creditoraccount]]
**CreditorAccount**

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|**Identification** +
__required__|maxLength 34 text +
**Length** : `1 - 34`|string
|**Name** +
__optional__|maxLength 70 text +
**Length** : `1 - 70`|string
|**SchemeName** +
__required__|Name of the identification scheme, in a coded form as published in an external list.|enum (BBAN)
|===

[[_setupsingleimmediatepayment_creditoragent]]
**CreditorAgent**

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|**Identification** +
__required__|United Kingdom (UK) Sort Code - identifies British financial institutions on the British national clearing systems. The sort code is assigned by the Association for Payments and Clearing Services (APACS). +
**Pattern** : `"^SC[0-9]{6,6}$"`|string
|**SchemeName** +
__required__|Specifies the external financial institution identification scheme name code in the format of character string.|enum (UKSortCode)
|===

[[_setupsingleimmediatepayment_debtoraccount]]
**DebtorAccount**

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|**Identification** +
__required__|maxLength 34 text +
**Length** : `1 - 34`|string
|**Name** +
__optional__|maxLength 70 text +
**Length** : `1 - 70`|string
|**SchemeName** +
__required__|Name of the identification scheme, in a coded form as published in an external list.|enum (BBAN)
|===

[[_setupsingleimmediatepayment_debtoragent]]
**DebtorAgent**

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|**Identification** +
__required__|United Kingdom (UK) Sort Code - identifies British financial institutions on the British national clearing systems. The sort code is assigned by the Association for Payments and Clearing Services (APACS). +
**Pattern** : `"^SC[0-9]{6,6}$"`|string
|**SchemeName** +
__required__|Specifies the external financial institution identification scheme name code in the format of character string.|enum (UKSortCode)
|===

[[_setupsingleimmediatepayment_instructedamount]]
**InstructedAmount**

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|**Amount** +
__required__|**Pattern** : `"^-?\\d{1,13}\\.\\d{1,5}$"`|string
|**Currency** +
__required__|A code allocated to a currency by a Maintenance Agency under an international identification scheme, as described in the latest edition of the international standard ISO 4217 'Codes for the representation of currencies and funds' +
**Pattern** : `"^[A-Z]{3}$"`|string
|===


==== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|**200**|Payment setup successfully|<<_payment_setup_post_200_response,Payment setup POST 200 Response>>
|**400**|Bad Request|<<_http_500_error,HTTP 500 Error>>
|**401**|Unauthorized|<<_http_401_error,HTTP 401 Error>>
|**403**|Forbidden|<<_payment_setup_post_403_response,Payment setup POST 403 response>>
|**409**|Conflict|<<_payment_setup_post_409_response,Payment setup POST 409 Response>>
|**500**|Internal Server Error|<<_http_500_error,HTTP 500 Error>>
|===

[[_payment_setup_post_200_response]]
**Payment setup POST 200 Response**

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|**EndToEndIdentification** +
__required__|Unique identification assigned by the initiating party to unambiguously identify the transaction. This identification is passed on, unchanged, throughout the entire end-to-end chain. Usage: The end-to-end identification can be used for reconciliation or to link tasks relating to the transaction. It can be included in several messages related to the transaction. +
**Length** : `1 - 35`|string
|**PaymentAuthorisationID** +
__required__|ASPSP authorisation identifier for the payment +
**Length** : `1 - 35`|string
|===

[[_http_500_error]]
**HTTP 500 Error**

[options="header", cols=".^3,.^4"]
|===
|Name|Schema
|**description** +
__required__|enum (The payment infrastructure is busy or unavailable.)
|**status** +
__required__|enum (500)
|**title** +
__required__|enum (InternalServerError)
|===

[[_http_401_error]]
**HTTP 401 Error**

[options="header", cols=".^3,.^4"]
|===
|Name|Schema
|**description** +
__required__|enum (The request is unauthorised. Do not resubmit the request.)
|**status** +
__required__|enum (401)
|**title** +
__required__|enum (Unauthorised)
|===

[[_payment_setup_post_403_response]]
**Payment setup POST 403 response**

[options="header", cols=".^3,.^4"]
|===
|Name|Schema
|**description** +
__required__|enum (The payer sort code is not valid - is closed, does not exist, or is not valid for the scheme., The payer account is not valid - is closed, does not exist, or is not valid for the scheme., The payee sort code is not valid - is closed, does not exist, or is not valid for the scheme., The payee account is not valid - is closed, does not exist, or is not valid for the scheme., The amount is not valid - exceeds scheme limit., The date is too far in the future., The scheme has rejected payment for an unspecified reason., The sending institution has rejected payment for an unspecified reason., The receiving institution has rejected payment for an unspecified reason.)
|**status** +
__required__|enum (403)
|**title** +
__required__|enum (InvalidPayerSortCode, InvalidPayerAccount, InvalidPayeeSortCode, InvalidPayeeAccount, InvalidAmount, InvalidExecutionDate, SchemeReject, SendingInstitutionReject, ReceivingInstitutionReject)
|===

[[_payment_setup_post_409_response]]
**Payment setup POST 409 Response**

[options="header", cols=".^3,.^4"]
|===
|Name|Schema
|**description** +
__required__|enum (The sending institution has rejected payment for an unspecified reason.)
|**status** +
__required__|enum (409)
|**title** +
__required__|enum (SendingInstitutionReject)
|===

[[_http_500_error]]
**HTTP 500 Error**

[options="header", cols=".^3,.^4"]
|===
|Name|Schema
|**description** +
__required__|enum (The payment infrastructure is busy or unavailable.)
|**status** +
__required__|enum (500)
|**title** +
__required__|enum (InternalServerError)
|===


==== Consumes

* `application/prs.openbanking.rwdata.v0.1+json`


==== Produces

* `application/prs.openbanking.rwdata.v0.1+json`


==== Tags

* Payments


==== Security

[options="header", cols=".^3,.^4,.^13"]
|===
|Type|Name|Scopes
|**oauth2**|**<<_tppoauth2security,TPPOAuth2Security>>**|tpp_client_credential
|===


<<<

[[_submitsingleimmediatepayment]]
=== Submit a single immediate payment
....
PATCH /payments/{PaymentAuthorisationID}
....


==== Description
Submit a previously setup single immediate payment


==== Parameters

[options="header", cols=".^2,.^3,.^9,.^4"]
|===
|Type|Name|Description|Schema
|**Path**|**PaymentAuthorisationID** +
__required__|ASPSP authorisation identifier for the payment|string
|===


==== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|**200**|Payment executed or ready for scheme to execute.|<<_payment_submit_patch_200_response,Payment submit PATCH 200 response>>
|**202**|Payment execution instruction accepted.|<<_payment_submit_patch_202_response,Payment submit PATCH 202 response>>
|**400**|Bad Request|<<_http_500_error,HTTP 500 Error>>
|**401**|Unauthorized|<<_http_401_error,HTTP 401 Error>>
|**403**|Forbidden|<<_payment_submit_patch_403_response,Payment submit PATCH 403 response>>
|**409**|Conflict|<<_payment_submit_patch_409_response,Payment submit PATCH 409 response>>
|**500**|Internal Server Error|<<_http_500_error,HTTP 500 Error>>
|===

[[_payment_submit_patch_200_response]]
**Payment submit PATCH 200 response**

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|**PaymentReferenceID** +
__optional__|Payment Reference ID +
**Length** : `1 - 35`|string
|**PaymentStatus** +
__required__||enum (ReadyforExecution)
|**PaymentStatusDescription** +
__required__||enum (Payment execution instruction accepted.)
|===

[[_payment_submit_patch_202_response]]
**Payment submit PATCH 202 response**

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|**PaymentReferenceID** +
__optional__|Payment Reference ID +
**Length** : `1 - 35`|string
|**PaymentStatus** +
__required__||enum (InstructionReceived)
|**PaymentStatusDescription** +
__required__||enum (Payment execution instruction accepted.)
|===

[[_http_500_error]]
**HTTP 500 Error**

[options="header", cols=".^3,.^4"]
|===
|Name|Schema
|**description** +
__required__|enum (The payment infrastructure is busy or unavailable.)
|**status** +
__required__|enum (500)
|**title** +
__required__|enum (InternalServerError)
|===

[[_http_401_error]]
**HTTP 401 Error**

[options="header", cols=".^3,.^4"]
|===
|Name|Schema
|**description** +
__required__|enum (The request is unauthorised. Do not resubmit the request.)
|**status** +
__required__|enum (401)
|**title** +
__required__|enum (Unauthorised)
|===

[[_payment_submit_patch_403_response]]
**Payment submit PATCH 403 response**

[options="header", cols=".^3,.^4"]
|===
|Name|Schema
|**description** +
__required__|enum (The payer sort code is not valid - is closed, does not exist, or is not valid for the scheme., The payer account is not valid - is closed, does not exist, or is not valid for the scheme., The payee sort code is not valid - is closed, does not exist, or is not valid for the scheme., The payee account is not valid - is closed, does not exist, or is not valid for the scheme., The amount is not valid - exceeds scheme limit., The date is too far in the future., The scheme has rejected payment for an unspecified reason., The sending institution has rejected payment for an unspecified reason., The receiving institution has rejected payment for an unspecified reason.)
|**status** +
__required__|enum (403)
|**title** +
__required__|enum (InvalidPayerSortCode, InvalidPayerAccount, InvalidPayeeSortCode, InvalidPayeeAccount, InvalidAmount, InvalidExecutionDate, SchemeReject, SendingInstitutionReject, ReceivingInstitutionReject)
|===

[[_payment_submit_patch_409_response]]
**Payment submit PATCH 409 response**

[options="header", cols=".^3,.^4"]
|===
|Name|Schema
|**description** +
__required__|enum (The sending institution has rejected payment for an unspecified reason.)
|**status** +
__required__|enum (409)
|**title** +
__required__|enum (SendingInstitutionReject)
|===

[[_http_500_error]]
**HTTP 500 Error**

[options="header", cols=".^3,.^4"]
|===
|Name|Schema
|**description** +
__required__|enum (The payment infrastructure is busy or unavailable.)
|**status** +
__required__|enum (500)
|**title** +
__required__|enum (InternalServerError)
|===


==== Consumes

* `application/prs.openbanking.rwdata.v0.1+json`


==== Produces

* `application/prs.openbanking.rwdata.v0.1+json`


==== Tags

* Payments


==== Security

[options="header", cols=".^3,.^4,.^13"]
|===
|Type|Name|Scopes
|**oauth2**|**<<_psuoauth2security,PSUOAuth2Security>>**|payment
|===


<<<

[[_getpaymentstatus]]
=== Get the status of a payment
....
GET /payments/{PaymentAuthorisationID}/status
....


==== Description
Get status of a previously submitted payment


==== Parameters

[options="header", cols=".^2,.^3,.^9,.^4"]
|===
|Type|Name|Description|Schema
|**Path**|**PaymentAuthorisationID** +
__required__|ASPSP authorisation identifier for the payment|string
|===


==== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|**200**|Payment Status Response|<<_payment_status_get_200_response,Payment status GET 200 response>>
|===

[[_payment_status_get_200_response]]
**Payment status GET 200 response**

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|**PaymentReferenceID** +
__optional__|Payment Reference ID +
**Length** : `1 - 35`|string
|**PaymentStatus** +
__required__||enum (AwaitingAuthorisation, ReadyforSubmission, ReadyforExecution, SendingInstitutionExecution, SchemeExecution, ReceivingInstitutionExecution, ExecutionComplete, ExecutionFailure, Cancelled)
|**PaymentStatusDescription** +
__required__||enum (Payment request requires further authorisation to progress., Payment request is authorised and ready for submission., Payment executed or ready for scheme to execute., Payment is being executed by the sending institution., Payment has been passed from sending institution to scheme for processing., Payment has passed from scheme to receiving institution for processing., Payment has been applied to receiving account and is complete., Payment to receving account has failed., Payment instruction cancelled.)
|===


==== Produces

* `application/prs.openbanking.rwdata.v0.1+json`


==== Tags

* Payments


==== Security

[options="header", cols=".^3,.^4,.^13"]
|===
|Type|Name|Scopes
|**oauth2**|**<<_psuoauth2security,PSUOAuth2Security>>**|payment
|===



