{
  "title": "Complex Payment Setup Put Request",
  "description": "Allows setup of a complex payment",
  "type": "object",
  "properties": {
    "GlobalIntentID": {
      "description": "Intent ID is the ASPSP identifier for the payment setup intent",
      "$ref": "../definitions/common/max_35_text.json"
    },
    "PaymentInformationIdentification": {
      "description": "Unique identification as assigned by an instructing party for an instructed party to unambiguously identify the instruction. Usage: the  instruction identification is a point to point reference that can be used between the instructing party and the instructed party to refer to the individual instruction. It can be included in several messages related to the instruction.",
      "$ref": "../definitions/common/max_35_text.json"
    },
    "MerchantCategoryCode": {
      "description": "Category code conform to ISO 18245, related to the type of services or goods the merchant provides for the transaction.",
      "$ref": "../definitions/common/min3_max4_text.json"
    },
    "PaymentType": {
      "$ref": "../definitions/payments/payment_type_code.json"
    },
    "RequestedExecutionDate": {
      "description": "Date at which the initiating party requests the clearing agent to process the payment. Usage: This is the date on which the debtor's account is to be debited. If payment by cheque, the date when the cheque must be generated by the bank.",
      "$ref": "../definitions/common/iso_date.json"
    },
    "NumberOfTransactions": {
      "description": "Number of individual transactions contained in the payment information group.",
      "$ref": "../definitions/common/max_15_numeric_text.json"
    },
    "ControlSum": {
      "description": "Total of all individual amounts included in the group, irrespective of currencies.",
      "$ref": "../definitions/common/decimal_number.json"
    },
    "DebtorAgent": {
      "description": "Financial institution servicing an account for the debtor.",
      "$ref": "../definitions/payments/branch_and_financial_institution_identification_complex.json"
    },
    "DebtorAccount": {
      "description": "Unambiguous identification of the account of the debtor to which a debit entry will be made as a result of the transaction.",
      "$ref": "../definitions/payments/cash_account_complex.json"
    },
    "CreditTransferTransactionInformationWithIntent": {
      "description": "Provides information on the individual transaction(s) included in the message.",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "IntentID": {
            "description": "Intent ID is the ASPSP identifier for the individual complex payment setup intent",
            "$ref": "../definitions/common/max_35_text.json"
          },
          "CreditTransferTransactionInformation": {
            "$ref": "../definitions/payments/credit_transfer_transaction.json"
          }
        },
        "required": [
          "IntentID",
          "CreditTransferTransactionInformation"
        ],
        "additionalProperties": false
      },
      "minItems": 1
    }
  },
  "required": [
    "GlobalIntentID",
    "PaymentInformationIdentification",
    "CreditTransferTransactionInformationWithIntent"
  ],
  "additionalProperties": false
}
